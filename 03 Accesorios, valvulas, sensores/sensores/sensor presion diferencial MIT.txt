 Thomas Low 11 April 2020 at 23:59
Reply	

I have several comments about some specific Arduino readable pressure sensors, and also how and why  to sense air FLOW with the same sensors.   I can elaborate on these comments, and provide more info, pix, and testing on request.  Finally, I made a comment about the possible value of using NDIR (optical absorption) sensors in the airway to sense the expected  ~15% CO2 content of exhaled breath.  

 A differential pressure sensor is required to report the patient’s airway pressure relative to ambient,    (i.e., to subtract the airway pressure from ambient room pressure).   Unfortunately, an absolute pressure sensor cannot provide this differential function.
   There are many a suitable differential pressure sensors.   I have successfully used the NXP MPXV7002DP differential pressure sensor to monitor and plot my own airway pressure.  These are  available singly ($18.59/pc) or in 100pc reels ($10.69/pc) from DigiKey https://www.digikey.com/products/en?keywords=MPXV7002DP .   The datasheet for this part is here https://www.nxp.com/docs/en/data-sheet/MPXV7002.pdf.  The same part is also  available from Mouser  https://www.mouser.com/Search/Refine?Keyword=MPXV7002DP)
 For testing,   I purchased two on MPXV7002DP breakout boards , with the recommended input and output caps, from amazon here:  (unfortunately,  this seller is out of stock):
   https://www.amazon.com/gp/product/B0837M13JB/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&psc=1
  Fortunately,  there are several other amazon sellers who have similar or identical MPXV7002DP breakout boards,  including these:
   https://www.amazon.com/Breakout-MPXV7002DP-transducer-Differential-Pressure/dp/B06XBF6SDF/ref=sr_1_4?dchild=1&keywords=MPXV7002DP&qid=1586651385&s=industrial&sr=1-4
   https://www.amazon.com/MPXV7002DP-Breakout-transducer-Differential-Pressure/dp/B07LH8G7WB/ref=sr_1_4?dchild=1&keywords=MPXV7002DP&qid=1586651450&s=industrial&sr=1-4
    The MPXV7002DP sensor has just three connections, +5V, GND, and Vout, as you can see in the datasheet.  When the differential pressure between the two 0.110? dia barbed   inlet tubes is zero, the MPXV7002DP reports Vout of about  +2.5V (about halfway between the 0V and +5V supply rails).  When the pressure is larger on the top  inlet tube than the bottom tube (e.g., if you blow into into a tygon tube attached to the top tube), the Vout value increases from ~ +2.5V   toward the +5V supply voltage,  in direct proportion to the pressure applied (increasing by ~0.0903 Volts per cmH2O of pressure).   I calibrated my sensor in cmH2O using a simple water dip tube.    
The Vout continues increasing, and approaches the 5V supply rail as the  pressures increases to ~20cmH2O (~0.28 psig or ~1.96kPa), and above that pressure, the Vout is close to +5V independent of pressure.  This means pressures higher than ~20cmH2O cannot be accurately measured with the MPXV7002DP sensor.  However,  but excessive positive pressure applied to the airway manifold can still be detected (and an alarm could be sounded) whenver  Vout exceeded ~ 4.5Volts.  
  Similarly, when the (airway) pressure drops below the ambient (room) pressure, the Vout drops below the ~ +2.5 Volt  quiescent value.  The variaion of Vout has the same slope versus pressure on this “negative” differential pressure side, of -0.0903 Volts per cmH2O of pressure difference between the two input ports.
   The sensitivity of the MPXV7002DP is easily good enough to detect the small 1-2cmH2O negative airway pressure which would  indicate that the patient is trying to inhale.   Also, using the available 10bit A/D available on any of the analog pins of a 5V Arduino (Arduino Uno or other),   measurable +/- 20cmH2O  differential pressure range is parsed into integers from 0 to 1023 .  This means the native 10bit Arduino A/D resolution is  5V/1024 or about 5mV per A/D step, which corresponds to about 0.055 cmH2O change in pressure.   This resolution is good enough to produce a beautifully resolved trace of the  patient’s airway pressure versus time.
  The resulting pressure versus time P(t) could be plotted for patient monitoring, and the E-VENT logic could use P(t) to trigger and initiate breath cycles, measure PEEP,  or provide/display  other diagnostic info about P(t)  .
 It is worth noting that this same MPXV7002DP pressure sensor can be configured to measure air FLOW.   This could be valuable because it could enable automatic detection and alarms for ventilator malfunction.  For example measuring air flow at one or more sites in the airway manifold could enable detection of small leaks (e.g., due to loose fittings)  or clogs (sputum, vomit, etc, or clogs in intubation ) in the airway manifold.  If anomalies in air flow were detected, the controller software could trigger an appropriate alarm.
   I have also demonstrated this air FLOW measurement can work with a simple setup and the MPXV7002DP flow sensor.   The concept was simply to measure the small pressure drop across a similarly small flow impedance in a tube simulating the airway manifold of a ventilator, and interpret the differential pressure (cmH2O) in terms of air flow thru the tube  (slm) .
The setup consisted of an ordinary 1/2? NPT water valve, with a 6? length of 1/2? PVC pipe at the valve input and another at the valve output.   I installed small barbed fittings (10-32 threaded brass Clippard fittings)  into the sidewalls of each 1/2? PVC pipe, and ran  two ~3mm tygon tubes from these upstream and downstream barb fittings to the input ports of the MPXV7002DP flow sensor.   The 1/2? NPT water valve was set to wide open, and presented a small enough flow impedance to hardly be noticable when I was breathing through it.
The flow related simply  to the difference in pressure between the upstream and downstream side of the flow restriction.   Bernoulli showed that mass flow of air is proportional to the square root of the pressure difference (see https://en.wikipedia.org/wiki/Orifice_plate) 
Again, the excellent pressure resolution provided by the MPXV7002DP sensor and the 10bit Arduino A/D enabled accurate measurement of air flow, even  WITHOUT imposing a significant flow restriction on my breathing airway.   Obviously, there is a tradeoff to be  studied here; we want to minimizing the flow impedance experienced by the patient, while providing adequate air flow information.    However, my impression from initial tests is that the flow restriction can be small enough to be quite acceptable, and still provide  a clear indication of air flow (and CHANGES in air flow) in the patient’s airway.  
A happy aspect of these sensors is that they can be installed in the airway manifold with minimal addition of dead space volume  (which is essential, as noted on the e-vent site).    
   I would be happy to try to answer your questions about pressure or flow sensors, and to help with thinking about how to implement them in the E-VENT ventilator.    I have ideas about how to   make them re-usable (without COVID contamination), and to help decide where how to place them in the airway manifold, etc.   